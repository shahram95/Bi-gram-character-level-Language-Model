"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-chat_utils_markdown_ts-ui_packages_use-navigate_use-navigate_ts-ui_packag-6738a0"],{72431:(e,t,n)=>{n.d(t,{A:()=>a});let a={message:"ChatMessage-module__message--_amJV","icon-link":"ChatMessage-module__icon-link--q1058","color-icon-link":"ChatMessage-module__color-icon-link--x_rMl",file:"ChatMessage-module__file--nuWNW",snippet:"ChatMessage-module__snippet--hiUk6",commit:"ChatMessage-module__commit--b4GP5",bing:"ChatMessage-module__bing--Zsu7O",agentUnauthorizedAvatar:"ChatMessage-module__agentUnauthorizedAvatar--q02uE"}},36305:(e,t,n)=>{let a;n.d(t,{kg:()=>et,Kc:()=>B,IA:()=>Y,oo:()=>ee});var i=n(39595),r=n(50948),l=n.n(r);function o(e,t,n){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return n}function s(e,t){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function c(e,t,n,a){var i,r=arguments.length,l=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(l=(r<3?i(l):r>3?i(t,n,l):i(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l}let d=/^(?: *\[(-?\d+),(-?\d+)\])?([ +-])?(.*)$/,u=/^(.*?)(?::(\d+(?:[,-]\d+)*))?$/;var p=new WeakSet,m=new WeakSet,h=new WeakSet,f=new WeakSet,b=new WeakSet,g=new WeakSet,A=new WeakSet;let CopilotInlineDiffElement=class CopilotInlineDiffElement extends HTMLElement{connectedCallback(){let e=this.diff.split("\n"),t=e[0]?.trimStart().startsWith("@@")?e.shift():"",n=e.map(e=>e.replace(d,"$4")).join("\n"),a=l().highlightAuto(n),i=a.value.split("\n"),r=e.map((e,t)=>o(this,p,y).call(this,e,i[t])),s=`hljs language-${a.language??"plaintext"}`,[,c,x]=this.filepath.match(u)??[],$=document.createElement("table");$.className="diff-table file",c&&$.appendChild(o(this,f,_).call(this,c)),t&&$.appendChild(o(this,b,w).call(this,t));let L=o(this,h,C).call(this,x),M=0,T=0;for(let[e,t]of L){let n=L[++M],a=n&&n[0]-t<=3?n[0]-1:t,i=o(this,m,k).call(this,e,a,r);for(let e of(T+=i.length,i.slice(0,30)))$.appendChild(o(this,A,v).call(this,e,s));(n?a<n[0]:i.length>30)&&$.appendChild(o(this,g,E).call(this))}T>0&&this.replaceChildren($)}constructor(...e){super(...e),s(this,p),s(this,m),s(this,h),s(this,f),s(this,b),s(this,g),s(this,A),this.diff="",this.filepath=""}};function y(e,t){let n=e.match(d)??[];return{leftLineNumber:n[1]?Number(n[1]):void 0,rightLineNumber:n[2]?Number(n[2]):void 0,lineMarker:n[3]??"",code:n[4]??"",html:t}}function k(e,t,n){let a=n.filter(({rightLineNumber:n})=>n&&n>=e&&n<=t);return a.length?a:n.filter(({leftLineNumber:n})=>n&&n>=e&&n<=t)}function C(e){return e?e.split(",").filter(Boolean).map(e=>{let t=e.split("-").map(Number),n=Math.max(1,t[0]??1),a=Math.max(n,t[1]??t[0]??1);return[n,a]}).sort((e,t)=>e[0]-t[0]):[[1,Number.MAX_SAFE_INTEGER]]}function _(e){let t=document.createElement("tr"),n=document.createElement("th");return n.className="file-header",n.setAttribute("colspan","3"),n.textContent=e,t.appendChild(n),t}function w(e){let t=document.createElement("tr"),n=document.createElement("td");return n.className="blob-num blob-code-hunk",n.setAttribute("colspan","2"),t.appendChild(n),(n=document.createElement("td")).className="blob-code blob-code-inner blob-code-hunk",n.textContent=e,t.appendChild(n),t}function E(){let e=document.createElement("tr"),t=document.createElement("td");return t.className="blob-num blob-code-hunk non-expandable",t.setAttribute("colspan","2"),t.setAttribute("data-line-number","..."),e.appendChild(t),(t=document.createElement("td")).className="blob-code blob-code-inner blob-code-hunk",e.appendChild(t),e}function v(e,t){let{leftLineNumber:n,rightLineNumber:a,lineMarker:i,html:r}=e,l="+"===i?"addition":"-"===i?"deletion":"context",o=`blob-num blob-num-${l}`,s=`blob-code blob-code-${l} blob-code-inner blob-code-marker ${t}`,c=document.createElement("tr"),d=document.createElement("td");return d.className=o,d.setAttribute("data-line-number","+"===i?"":String(n)),c.appendChild(d),(d=document.createElement("td")).className=o,d.setAttribute("data-line-number","-"===i?"":String(a)),c.appendChild(d),(d=document.createElement("td")).className=s,d.innerHTML=r??"",d.setAttribute("data-code-marker",i),c.appendChild(d),c}c([i.CF],CopilotInlineDiffElement.prototype,"diff",void 0),c([i.CF],CopilotInlineDiffElement.prototype,"filepath",void 0),CopilotInlineDiffElement=c([i.p_],CopilotInlineDiffElement);let x=e=>t=>t.match(e)?.index,$=(e,t)=>n=>{for(let a of t){let t=n.match(a);if(t)return{type:e,raw:t[0],...t.groups}}},L=e=>t=>{if("string"!=typeof t.latex)throw Error("Unrecognized token passed to math renderer");return e(t.latex)},M=null,T=()=>M??(M=document.querySelector('link[rel="assets"]')?.href??""),N=e=>e.replaceAll("<","&amp;lt;"),S=e=>e.replaceAll('"',"&quot;"),R=e=>`<math-renderer class="js-display-math" style="display: block" data-static-url="${S(T())}">${N(e)}</math-renderer>
`,H=e=>(t,n)=>!!(n&&e.has(n))&&R(t),D=e=>`<math-renderer class="js-inline-math" style="display: inline-block" data-static-url="${S(T())}">${N(e)}</math-renderer>`,I=[{open:/\$\$/,close:/\$\$/}],j=[{open:/\$`/,close:/`\$/},{open:/\$\$(?! )/,close:RegExp("(?<! )\\$\\$")},{open:/\$(?![ $])/,close:RegExp("(?<![ $])\\$")}],W=new Set(["math"]),z=({displayDelimiters:e=I,inlineDelimiters:t=j,codeBlockLanguages:n=W}={})=>({extensions:[function(e){let t=RegExp(`\\n\\s*(?:${e.map(e=>e.open.source).join("|")})`),n=e.map(({open:e,close:t})=>RegExp(`^${e.source}(?<latex>(?:
|.)+?)${t.source}(?= *(?:\\n|$))`)),a="displaymath";return{name:a,level:"block",start:x(t),tokenizer:$(a,n),renderer:L(R)}}(e),function(e){let t=RegExp(`${e.map(e=>e.open.source).join("|")}`),n=e.map(({open:e,close:t})=>RegExp(`^${e.source}(?<latex>.+?)${t.source}`)),a="inlinemath";return{name:a,level:"inline",start:x(t),tokenizer:$(a,n),renderer:L(D)}}(t)],renderer:{code:H(n)}});var U=n(42838),O=n.n(U),V=n(60023),F=n(22540),K=n(72431),P=n(98264),G=n(57938);let q={ALLOWED_TAGS:["a","blockquote","br","p","ul","ol","li","pre","code","table","tr","th","td","h1","h2","h3","h4","h5","h6","hr","span","strong","em","p","div","details","summary","copilot-inline-diff","math-renderer"],FORBID_TAGS:["style"],ADD_URI_SAFE_ATTR:["colspan"],ALLOWED_ATTR:["href","target","rel","class","colspan"],ALLOW_DATA_ATTR:!1,ALLOWED_URI_REGEXP:/^https?:/i};function B(e,t,n,a,i,r,o,s){if(!e)return"";if(o){let t=function(e,t,n=t-1){let a=-1,i=-1,r=-1;for(let l=1;;l++){if(l===t&&(i=a+1),l===n+1){r=a;break}if(-1===(a=e.indexOf("\n",a+1)))break}return{startIndex:i,endIndex:r}}(e,o,s);t.endIndex>-1&&(e=e.slice(t.startIndex,t.endIndex)),e=e.replace(/^---\n[\s\S]*?\n---\n/,"")}G.W.reactMarkdown||(e=function(e,t,n){let a=e.match(/^@\S+/g);if(!a||0===a.length)return e;if(!t)return n?.(),e;let i=a[0],r=i.substring(1),l=t.find(e=>e.slug===r);if(l){let t=O().sanitize(i);e=e.replace(i,`<a href="${l.integrationUrl}" data-hovercard-url="/integrations/${r}/hovercard" class="bgColor-accent-muted">${t}</a>`)}return e}(e,i,r));let c=new V.Dz({gfm:!0,breaks:!0,extensions:[J,...G.W.formatDiff?[Q]:[],...n??[]]});G.W.markdownMath&&c.use(z({displayDelimiters:[...I,{open:/\\\[\s/,close:/\s\\\]/}],inlineDelimiters:[...j,{open:/\\\( /,close:/ \\\)/}]})),c.use((0,F.x)({langPrefix:"hljs language-",highlight:e=>l().highlightAuto(e).value}));let d=c.parse(e),u=O()();return G.W.reactMarkdown&&u.addHook("uponSanitizeAttribute",function(e,t){"id"===t.attrName&&t.attrValue.startsWith(P.i4)&&(t.forceKeepAttr=!0)}),u.addHook("uponSanitizeAttribute",function(e,t){"data-hovercard-url"===t.attrName&&(t.forceKeepAttr=!0)}),u.addHook("uponSanitizeAttribute",function(e,t){"href"===t.attrName&&null!==e.getAttribute("data-hovercard-url")&&(t.forceKeepAttr=!0)}),u.addHook("uponSanitizeAttribute",function(e,t){"class"===t.attrName&&"bgColor-accent-muted"===t.attrValue&&(t.forceKeepAttr=!0)}),u.addHook("uponSanitizeAttribute",function(e,t){if("class"!==t.attrName)return;let n=["file","hljs","snippet-clipboard-content"],a=/^(hljs|language-|\bsnippet-vulnerabilit(y|ies)\b-|\b(blob|diff|file)-)/;t.attrValue=t.attrValue.split(" ").filter(e=>n.includes(e)||a.test(e)).join(" "),""===t.attrValue&&(t.keepAttr=!1)}),u.addHook("uponSanitizeAttribute",function(e,t){let n="data-snippet-clipboard-copy-content";if(t.attrName===n){if(!t.attrValue.startsWith(`${Z()}:`)){t.keepAttr=!1;return}t.attrValue=t.attrValue.slice(Z().length+1),e.setAttribute(n,t.attrValue),t.forceKeepAttr=!0}}),u.addHook("uponSanitizeAttribute",function(e,t){"COPILOT-INLINE-DIFF"===e.nodeName&&t.attrName.startsWith("data-")&&(t.forceKeepAttr=!0)}),G.W.markdownMath&&u.addHook("uponSanitizeAttribute",function(e,t){"MATH-RENDERER"===e.nodeName&&t.attrName.match(/^(data-.*|style|class)$/)&&(t.forceKeepAttr=!0)}),u.addHook("afterSanitizeAttributes",function(e){if(("target"in e||e instanceof HTMLAnchorElement)&&!a&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")),!e.hasAttribute("target")&&(e.hasAttribute("xlink:href")||e.hasAttribute("href"))&&!a&&e.setAttribute("xlink:show","new"),e instanceof HTMLAnchorElement){let n=e.getAttribute("href");if(n){let a=function(e){if(e.match(/^https?:\/\//)){let t;try{t=new URL(e,window.location.href)}catch{return e}if(t.origin===window.location.origin)return t.pathname+t.search+t.hash}return e}(n);if(a.startsWith("/")){let t=(a=a.slice(1)).split("/");t.length>3&&"blob"===t[2]&&(t[t.length-1]?.match(/#L\d+(-L\d+)?$/)?e.classList.add(K.A.snippet,K.A["icon-link"]):e.classList.add(K.A.file,K.A["icon-link"])),4===t.length&&"commit"===t[2]&&t[3]?.match(/^[0-9a-f]{40}$/i)&&e.classList.add(K.A.commit,K.A["icon-link"])}let i=t?.filter(e=>"web-search"===e.type);i?.some(e=>e.results.some(e=>e.url===n))&&e.classList.add(K.A.bing,K.A["color-icon-link"])}}}),u.sanitize(d,q)}function Z(){return a||(a=crypto.randomUUID()),a}let X=!1,J={name:"code",renderer(e){if("code"!==e.type||X)return!1;X=!0;let t=this.parser.parse([e]);X=!1;let n=document.createElement("span");n.innerHTML=t;let a=e.raw.replace(/^```\w*\n/,"").replace(/\n```\n?$/,"");return n.setAttribute("data-snippet-clipboard-copy-content",`${Z()}:${a}`),n.classList.add("snippet-clipboard-content"),n.outerHTML}},Q={name:"code",renderer(e){if("code"!==e.type)return!1;let t=e,[,n="",a=""]=(t.lang??"").match(/^(\S*)\s*(.*)$/)??[];if("diff"!==n)return!1;t=(0,V.lu)(t.raw,{gfm:!0})[0];let i=document.createElement("copilot-inline-diff");return i.setAttribute("data-diff",t.text),i.setAttribute("data-filepath",a),i.outerHTML}};function Y(e,t,n,a,i,r){if(!e)return"";if(!n?.CodeVulnerability)return B(e,t,[],a,i,r);let l=e=>"code"===e.type,o=e=>1===e?`${e} vulnerability`:`${e} vulnerabilities`,{CodeVulnerability:s}=n,c=s.map(t=>{let{startOffset:n,endOffset:a}=t;return e.substring(n,a+1)}),d=!1;return B(e,t,[{name:"code",renderer(e){if(!l(e)||d||!n?.CodeVulnerability)return!1;d=!0;let t=c.some(t=>e.raw.includes(t)),a=this.parser.parse([e]);if(d=!1,!t)return a;{let e=document.createElement("div"),t=document.createElement("div");t.classList.add("snippet-vulnerability-code"),t.innerHTML=a;let n=document.createElement("details");n.classList.add("snippet-vulnerabilities-details");let i=document.createElement("summary"),r=document.createElement("div");r.classList.add("snippet-vulnerability-chevron");let l=document.createElement("div");for(let e of(l.classList.add("snippet-vulnerability-shield-icon"),i.textContent=`${o(c.length)} detected`,i.prepend(l),i.appendChild(r),i.classList.add("snippet-vulnerability-summary"),n.appendChild(i),s)){let t=document.createElement("div");t.classList.add("snippet-vulnerability-details");let a=document.createElement("p");a.classList.add("snippet-vulnerability-details-title");let i=document.createElement("p");i.classList.add("snippet-vulnerability-details-description"),a.textContent=e.details.uiType,i.textContent=e.details.uiDescription,t.append(a,i),n.appendChild(t)}return e.append(t,n),e.outerHTML}}}],a,i,r)}function ee(e,t,n,a,i){let r;if(!e)return{html:"",hasCitations:!1,referenceMap:new Map};t&&0!==t.length||(e=`We could not find anything related to your query in your selected knowledge base.
    Copilot will try its best to answer your question but
    risks of fabrication are higher without grounding in documentation.

${e}`,t=[]);let l=RegExp("\\[CitationID: ?(?<id>[0-9]{1,3})\\](?!\\()","i"),o=l.test(e),s=o?l:RegExp("\\[\\^?(?<id>[0-9]{1,3})\\^?\\](?!\\()"),c=RegExp(`^${s.source}`,s.flags),d=!1;return r=o?new Map:new Map(Array.from({length:t.length},(e,t)=>[t+1,t+1])),{html:B(e,t,[{name:"citation",level:"inline",start:e=>e.match(s)?.index,tokenizer(e){let t=c.exec(e);if(t){let e=t.groups?.id;if(e)return{type:"citation",raw:t[0],id:e}}},renderer(e){let n=document.createElement("a"),a=parseInt(e.id),i=t[a-1];if(!i)return e.raw;let l=i.url;if(!l)return e.raw;d=!0,r.has(a)||r.set(a,r.size+1);let o=r.get(a);return n.setAttribute("href",l),n.textContent=`[${o}]`,n.outerHTML}}],n,a,i),hasCitations:d,referenceMap:r}}function et(e,t){if(!t)return e.map((e,t)=>({...e,n:t+1}));let n=[];for(let[a,i]of t.entries()){let t=e[a-1];n.push({...t,n:i})}return n.sort((e,t)=>e.n-t.n),n}},51550:(e,t,n)=>{n.d(t,{A:()=>a});let a=(e,t)=>{let n=new URL(e,window.location.origin),a=new URL(t,window.location.origin);return a.href.includes("#")&&n.host===a.host&&n.pathname===a.pathname&&n.search===a.search}},27788:(e,t,n)=>{n.d(t,{Z:()=>u,o:()=>p});var a=n(96540),i=n(47767),r=n(45588),l=n(84976),o=n(51550),s=n(92812),c=n(56725),d=n(99523);let u=()=>{let{routes:e,history:t}=a.useContext(s.B),l=(0,i.Zp)();return a.useCallback((i,s={})=>{let u=(0,r.o1)(i).pathname;if((0,r.ue)(e,u)){(0,o.A)(location.href,i.toString())||(0,c.SC)("react");let{preventAutofocus:e,...t}=s;(0,a.startTransition)(()=>{l(i,e?{...t,state:{[d.V]:!0,...t.state}}:t);let{turbo:n,...a}=window.history.state;window.history.replaceState({...a,skipTurbo:!0},"",location.href)})}else{let e=t.createHref(i);(async()=>{let{softNavigate:t}=await Promise.all([n.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),n.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(n.bind(n,63120));t(e)})()}},[t,l,e])},p=()=>{let[e]=(0,l.ok)(),t=u(),{pathname:n}=(0,i.zy)(),r=a.useCallback((a,i={})=>{t({pathname:n,search:(0,l.PI)("function"==typeof a?a(e):a).toString()},i)},[e,t,n]);return[e,r]}},98264:(e,t,n)=>{n.d(t,{aF:()=>s,i4:()=>o,s0:()=>c});var a=n(74848),i=n(72574),r=n(96540),l=n(40961);let o=`react-replace-${Math.floor(1e9*Math.random())}`;function s(e){let{body:t,matches:n,onLinkClick:o,reactReplaceBlocks:s}=e,[c,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d(!0)},[]);let u=(0,r.useMemo)(()=>(0,a.jsx)(i.G,{onLinkClick:o,verifiedHTML:t}),[t,o]);return(0,a.jsxs)(a.Fragment,{children:[u,c&&n.map(e=>{let t=document.getElementById(e.id);return t&&s[e.componentType]?(0,l.createPortal)(s[e.componentType]?.renderer(e.matchedContent),t):null})]})}function c(e,t,n){if(!n)return{output:"",matches:[]};let a=[],i=n;for(let[n,r]of Object.entries(e)){let e;for(;null!==(e=r.regex.exec(i));){let r=`${o}-${a.length}-${t}`;i=i.replace(e[0],`<span id="${r}"></span>`),a.push({id:r,componentType:n,matchedContent:e[0]})}}return{output:i,matches:a}}try{s.displayName||(s.displayName="ReactMarkdownRenderer")}catch{}},13180:(e,t,n)=>{n.d(t,{v:()=>u});var a,i=n(74848),r=n(12480),l=n(87330),o=n(94977),s=n(96540);let c=e=>` ${e.split(" ").map(e=>`<${e.replaceAll("Mod",(0,r.U0)()?"Cmd":"Ctrl").replaceAll("Command","Cmd").replaceAll("Control","Ctrl").toLowerCase()}>`).join(" / ")}`,d=e=>e.replaceAll("{CMD_CTRL}",(0,r.U0)()?"Command":"Control"),u=(0,s.forwardRef)(({label:e,hideTooltip:t,icon:n,shortcut:a,sx:r,tooltipDirection:u,...p},m)=>{let h=(0,s.useCallback)(()=>{let r={display:"flex"};return u?.includes("w")&&(r={...r,pl:2,ml:-2}),u?.includes("e")&&(r={...r,pr:2,mr:-2}),u?.includes("s")&&(r={...r,pb:2,mb:-2}),(u?.includes("n")||!u)&&(r={...r,pt:2,mt:-2}),t?(0,i.jsx)(n,{}):(0,i.jsx)(o.A,{"aria-label":`${e}${a?c(a):""}`,className:"icon-button-with-tooltip__tooltip",direction:u,sx:r,children:(0,i.jsx)(n,{})})},[t,e,a,u,n]);return(0,i.jsx)(l.K,{unsafeDisableTooltip:!0,ref:m,icon:h,"aria-keyshortcuts":a?d(a):void 0,sx:{...r,"&:focus-visible, &:hover":{"& .icon-button-with-tooltip__tooltip":{"&::after, &::before":{display:"inline-block",textDecoration:"none",animationName:"tooltip-appear",animationDuration:"0.1s",animationFillMode:"forwards",animationTimingFunction:"ease-in"}}},"&:hover .icon-button-with-tooltip__tooltip":{"&::after, &::before":{animationDelay:"0.4s"}}},...p,"aria-label":e})});u.displayName="IconButtonWithTooltip";try{(a=TooltippedIcon).displayName||(a.displayName="TooltippedIcon")}catch{}},22084:(e,t,n)=>{n.d(t,{mo:()=>h,oG:()=>u,yx:()=>p});var a,i=n(74848),r=n(75177),l=n(52464),o=n(42838),s=n.n(o),c=n(96540);function d(e){if("html"in e&&void 0!==e.html){let{html:t,...n}=e;return{safeHTML:t,props:n}}let{unverifiedHTML:t,unverifiedHTMLConfig:n,...a}=e,i={...n,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{safeHTML:s().sanitize(t,i),props:a}}let u=m(r.A);u.displayName="SafeHTMLBox";let p=m(l.A);function m(e){return(0,c.forwardRef)((t,n)=>{let{safeHTML:a,props:r}=d(t);return(0,i.jsx)(e,{ref:n,...r,dangerouslySetInnerHTML:a?{__html:a}:void 0})})}p.displayName="SafeHTMLText";let h=(0,c.forwardRef)((e,t)=>{let{safeHTML:n,props:a}=d(e);return(0,i.jsx)("div",{ref:t,...a,dangerouslySetInnerHTML:n?{__html:n}:void 0})});h.displayName="SafeHTMLDiv";try{(a=SafeHTMLComponent).displayName||(a.displayName="SafeHTMLComponent")}catch{}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_utils_markdown_ts-ui_packages_use-navigate_use-navigate_ts-ui_packag-6738a0-b681cc89401f.js.map